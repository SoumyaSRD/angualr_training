<app-topic-template [title]="content.title" [tags]="content.tags" [paragraphs]="content.paragraphs"
  [sections]="content.sections" [codeExamples]="content.codeExamples" [bestPractices]="content.bestPractices"
  [keyPoints]="content.keyPoints">
  <div class="demo-container">
    <h2 class="demo-title"><span class="emoji">ðŸ“Š</span>Live Data Binding Comparison</h2>

    <!-- Live Demo Section -->
    <div class="live-demo">
      <div class="demo-header">
        <span class="emoji">ðŸŽ®</span>
        <h3>Try It Yourself</h3>
      </div>

      <div class="comparison">
        <!-- TRADITIONAL -->
        <div class="method-card method-card--traditional">
          <h4><span>ðŸŸ¡</span> Traditional <span class="badge">Classic</span></h4>
          <div class="demo-input-group">
            <label>Enter your name:</label>
            <input class="demo-input" [(ngModel)]="traditionalValue" placeholder="Type something..." />
          </div>
          <div class="demo-output">
            <strong>Output:</strong> {{traditionalValue}}
          </div>
          <button class="demo-button" (click)="resetTraditional()">
            <i class="bi bi-arrow-counterclockwise"></i> Reset
          </button>
        </div>

        <!-- SIGNALS -->
        <div class="method-card method-card--signals">
          <h4><span>ðŸŸ¢</span> Modern Signals <span class="badge">Reactive</span></h4>
          <div class="demo-input-group">
            <label>Enter your name:</label>
            <input class="demo-input" [value]="signalValue()" (input)="updateSignal($event)"
              placeholder="Type something..." />
          </div>
          <div class="demo-output">
            <strong>Value:</strong> {{signalValue()}}
          </div>
          <div class="demo-output">
            <strong>Computed:</strong> {{uppercaseSignal()}}
          </div>
          <button class="demo-button" (click)="resetSignal()">
            <i class="bi bi-arrow-counterclockwise"></i> Reset
          </button>
        </div>

        <!-- MODEL SIGNAL (Angular 17.3+) -->
        <div class="method-card method-card--model">
          <h4><span>ðŸ”µ</span> Model Signal <span class="badge">New</span></h4>
          <div class="demo-input-group">
            <label>Enter your name:</label>
            <input class="demo-input" [(ngModel)]="modelSignal" placeholder="Type something..." />
          </div>
          <div class="demo-output">
            <strong>Output:</strong> {{modelSignal()}}
          </div>
          <button class="demo-button" (click)="resetModel()">
            <i class="bi bi-arrow-counterclockwise"></i> Reset
          </button>
        </div>
      </div>

      <div class="info-box">
        <h4><span class="emoji">ðŸ’¡</span>Key Differences</h4>
        <ul>
          <li><strong>Traditional:</strong> Uses ngModel for two-way binding. Simple but triggers full change detection.
          </li>
          <li><strong>Signals:</strong> Fine-grained reactivity. Only updates components that actually use the signal
            value.</li>
          <li><strong>Model Signal:</strong> Combines signal reactivity with two-way binding convenience (Angular
            17.3+).</li>
        </ul>
      </div>
    </div>

    <!-- Code Examples Section -->
    <div class="code-section">
      <div class="section-header">
        <h3>ðŸ’» Code Implementation</h3>
        <p>Compare implementation patterns side by side</p>
      </div>

      <div class="code-grid">
        <!-- Traditional Binding Example -->
        <div class="code-block">
          <div class="code-header">
            <span class="code-icon code-icon--ts">TS</span>
            <h4>Traditional Binding</h4>
          </div>
          <div class="code-content">
            <pre><code>// traditional.component.ts
import {{'{'}} Component {{'}'}} from '@angular/core';
import {{'{'}} FormsModule {{'}'}} from '@angular/forms';

@Component({{'{'}}
  selector: 'app-traditional',
  standalone: true,
  imports: [FormsModule],
  template: `
    &lt;input [(ngModel)]="username"&gt;
    &lt;p&gt;Hello {{'{{username}}'}}!&lt;/p&gt;
  `
{{'}'}})
export class TraditionalComponent {{'{'}}
  username = 'Guest';
  
  updateName() {{'{'}}
    this.username = 'John';
  {{'}'}}
{{'}'}}</code></pre>
          </div>
        </div>

        <div class="code-block">
          <div class="code-header">
            <span class="code-icon code-icon--html">HTML</span>
            <h4>Template Usage</h4>
          </div>
          <div class="code-content">
            <pre><code>&lt;!-- Two-way binding --&gt;
&lt;input [(ngModel)]="email"&gt;
&lt;p&gt;{{'{{email}}'}}&lt;/p&gt;

&lt;!-- Event binding --&gt;
&lt;button (click)="save()"&gt;Save&lt;/button&gt;

&lt;!-- Property binding --&gt;
&lt;img [src]="imageUrl"&gt;

&lt;!-- Attribute binding --&gt;
&lt;div [attr.aria-label]="label"&gt;&lt;/div&gt;</code></pre>
          </div>
        </div>

        <!-- Signals Example -->
        <div class="code-block">
          <div class="code-header">
            <span class="code-icon code-icon--ts">TS</span>
            <h4>Modern Signals</h4>
          </div>
          <div class="code-content">
            <pre><code>// signals.component.ts
import {{'{'}} Component, signal, computed {{'}'}} from '@angular/core';

@Component({{'{'}}
  selector: 'app-signals',
  standalone: true,
  template: `...`
{{'}'}})
export class SignalsComponent {{'{'}}
  // Basic signal
  username = signal('Guest');
  
  // Computed signal
  uppercaseName = computed(() => 
    this.username().toUpperCase()
  );
  
  // Update signal
  updateName(value: string) {{'{'}}
    this.username.set(value);
  {{'}'}}
{{'}'}}</code></pre>
          </div>
        </div>

        <div class="code-block">
          <div class="code-header">
            <span class="code-icon code-icon--html">HTML</span>
            <h4>Signal Template</h4>
          </div>
          <div class="code-content">
            <pre><code>&lt;!-- Signal binding --&gt;
&lt;input [value]="firstName()" 
       (input)="firstName.set($event.target.value)"&gt;

&lt;!-- Computed values --&gt;
&lt;p&gt;Full name: {{'{{fullName()}}'}}&lt;/p&gt;

&lt;!-- Signal in conditionals --&gt;
&amp;#64;if (isLoggedIn()) {{
  &lt;p&gt;Welcome user!&lt;/p&gt;
&amp;#125;</code></pre>
          </div>
        </div>
      </div>

      <!-- Side-by-side Comparison -->
      <div class="code-example">
        <h4>âš¡ Quick Comparison</h4>
        <div class="comparison-table">
          <table>
            <tr>
              <th>Feature</th>
              <th>Traditional</th>
              <th>Signals</th>
            </tr>
            <tr>
              <td>Two-way binding</td>
              <td><code>[(ngModel)]="value"</code></td>
              <td>
                <code>[(ngModel)]="signalValue"</code> or <code>model()</code>
              </td>
            </tr>
            <tr>
              <td>One-way binding</td>
              <td><code>{{'{{value}}'}}</code></td>
              <td><code>{{'{{signal()}}'}}</code></td>
            </tr>
            <tr>
              <td>Event binding</td>
              <td><code>(click)="method()"</code></td>
              <td><code>(input)="signal.set($event.target.value)"</code></td>
            </tr>
            <tr>
              <td>Derived values</td>
              <td>
                <code>get computed() {{'{'}} return this.value * 2; {{'}'}}</code>
              </td>
              <td><code>computed(() => signal() * 2)</code></td>
            </tr>
            <tr>
              <td>Update trigger</td>
              <td>Manual change detection</td>
              <td>Automatic reactivity</td>
            </tr>
          </table>
        </div>
      </div>

      <!-- Migration Tips -->
      <div class="migration-card">
        <h4><span class="emoji">ðŸ”„</span>Migration Tips</h4>
        <div class="info-box" style="margin-top: 0;">
          <ul>
            <li><strong>Start with new features:</strong> Use signals for new components, migrate existing ones
              gradually.</li>
            <li><strong>Replace getters with computed:</strong> Convert get properties to computed() for automatic
              reactivity.</li>
            <li><strong>Use model() for inputs:</strong> When you need two-way binding on component inputs.</li>
            <li><strong>Mixing is okay:</strong> Signals and traditional binding can coexist in the same app.</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</app-topic-template>