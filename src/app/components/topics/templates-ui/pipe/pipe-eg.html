<app-topic-template [title]="content.title" [tags]="content.tags" [paragraphs]="content.paragraphs"
  [sections]="content.sections" [codeExamples]="content.codeExamples" [bestPractices]="content.bestPractices"
  [keyPoints]="content.keyPoints">

  <div class="topic-content">
    <h2 class="content-title"><span class="emoji">üîß</span>Angular Pipes</h2>

    <p class="content-text">
      Pipes in Angular are used to transform and format data directly within
      templates. They provide a clean and declarative way to modify how values are
      displayed without changing the underlying data.
    </p>

    <h3 class="content-subtitle">Why Use Pipes?</h3>
    <ul class="content-list">
      <li><strong>Cleaner Templates:</strong> Simplifies data transformation directly in HTML.</li>
      <li><strong>Reusable Logic:</strong> Write once and reuse across multiple components.</li>
      <li><strong>Separation of Concerns:</strong> Keeps formatting logic separate from business logic.</li>
      <li><strong>Improved Readability:</strong> Makes templates easier to understand.</li>
    </ul>

    <h3 class="content-subtitle">Common Built-in Pipes</h3>
    <ul class="content-list">
      <li><strong>DatePipe:</strong> Formats dates according to locale settings.</li>
      <li><strong>CurrencyPipe:</strong> Formats numbers as currency values.</li>
      <li><strong>DecimalPipe:</strong> Formats numeric values with decimal precision.</li>
      <li><strong>UpperCasePipe / LowerCasePipe:</strong> Converts text casing.</li>
      <li><strong>JsonPipe:</strong> Displays objects in JSON format for debugging.</li>
      <li><strong>AsyncPipe:</strong> Automatically subscribes to Observables or Promises.</li>
    </ul>

    <div class="live-demo">
      <div class="demo-header">
        <span class="emoji">üéÆ</span>
        <h3>Live Demo - Built-in Pipes</h3>
      </div>

      <div class="demo-grid">
        <div class="demo-card demo-card--primary">
          <h4><i class="bi bi-input-cursor-text"></i> Text Input</h4>
          <div class="demo-input-group">
            <label>Enter your name:</label>
            <input class="demo-input" type="text" [(ngModel)]="username" placeholder="e.g., John Doe" />
          </div>
          <div class="demo-output">
            <strong>Uppercase:</strong> <span class="pipe-result">{{ username | uppercase }}</span>
          </div>
        </div>

        <div class="demo-card demo-card--success">
          <h4><i class="bi bi-calendar-date"></i> Date Input</h4>
          <div class="demo-input-group">
            <label>Select a date:</label>
            <input class="demo-input" type="date" [(ngModel)]="day" />
          </div>
          <div class="demo-output">
            <strong>Formatted:</strong> <span class="pipe-result">{{ day | date:'mediumDate' }}</span>
          </div>
        </div>
      </div>

      <div class="code-preview">
        <code>{{ username | uppercase }}</code> ‚Üí <span class="pipe-result">{{ username | uppercase }}</span><br>
        <code>{{ day | date:'mediumDate' }}</code> ‚Üí <span class="pipe-result">{{ day | date:'mediumDate' }}</span>
      </div>
    </div>

    <h3 class="content-subtitle">Custom Pipes Demo</h3>
    <p class="content-text">
      Developers can create custom pipes when built-in pipes are not sufficient.
      Below is a live demo of a custom filter pipe that searches across multiple fields.
    </p>

    <div class="live-demo">
      <div class="demo-header">
        <span class="emoji">üîç</span>
        <h3>Custom Filter Pipe Demo</h3>
      </div>

      <div class="demo-input-group">
        <label>Search employees:</label>
        <input class="demo-input" type="text" [(ngModel)]="searchTerm"
          placeholder="Search by name, department, or designation..." />
      </div>

      <div class="demo-table-wrapper">
        <table class="demo-table">
          <thead>
            <tr>
              <th>ID</th>
              <th>Name</th>
              <th>Department</th>
              <th>Designation</th>
              <th>Salary</th>
            </tr>
          </thead>
          <tbody>
            @for (item of employees | customFilter:searchTerm:['name','department','designation']; track item.id) {
            <tr>
              <td>{{ item.id }}</td>
              <td>{{ item.name }}</td>
              <td>{{ item.department }}</td>
              <td>{{ item.designation }}</td>
              <td>{{ item.salary | currency:'INR':'symbol':'1.0-0' }}</td>
            </tr>
            }
          </tbody>
        </table>
      </div>
    </div>

    <h3 class="content-subtitle">Pure vs Impure Pipes</h3>
    <div class="demo-grid">
      <div class="demo-card demo-card--success">
        <h4><i class="bi bi-check-circle"></i> Pure Pipes</h4>
        <p class="content-text">Execute only when input values change (default behavior). Better performance.</p>
      </div>
      <div class="demo-card demo-card--warning">
        <h4><i class="bi bi-exclamation-triangle"></i> Impure Pipes</h4>
        <p class="content-text">Execute on every change detection cycle. Used when data changes frequently.</p>
      </div>
    </div>

    <div class="info-box">
      <h4><span class="emoji">üí°</span>Best Practice</h4>
      <ul>
        <li>Use pure pipes by default for better performance</li>
        <li>Only use impure pipes when necessary (e.g., filtering arrays that change internally)</li>
        <li>Consider using signals for complex transformations instead of impure pipes</li>
      </ul>
    </div>
  </div>
</app-topic-template>